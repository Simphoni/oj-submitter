import sys
import requests

url = 'http://210.33.19.103'


def accessible(page):
    a = '404 Not Found'
    b = 'Access Denied'
    n = len(page)
    for i in range(n - len(a) + 1):
        if page[i:i + len(a)] == a or page[i:i + len(b)] == b:
            return False
    return True


def rateIt(menu, submenu, user):
    info = {'user': user[0], 'pass': user[1]}
    userAgent = "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:62.0) Gecko/20100101 Firefox/62.0"
    # login with a new session
    web = requests.session()
    web.post(url, data=info, headers={
        'Referer': url + '/', 'User-Agent': userAgent
    })
    chk = web.get(url + '/user/change_profile')
    if not accessible(chk.text):
        print('Login failed, invalid username/password!')
        sys.exit()
    
